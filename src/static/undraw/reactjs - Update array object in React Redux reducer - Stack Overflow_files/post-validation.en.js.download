(()=>{var e={p:""};(()=>{"use strict";e.p=document.getElementById("webpack-public-path").innerText+"Js/"})(),StackExchange=window.StackExchange=window.StackExchange||{},StackOverflow=window.StackOverflow=window.StackOverflow||{},StackExchange.postValidation=function(){var e=$("body").hasClass("js-ask-page-v2"),t="Title",n="Body",s="Tags",i="Mentions",a="EditComment",r="Excerpt",o="Email",l="General";function c(e,t,n){var s={Title:".js-post-title-field",Body:".js-post-body-field[data-post-type-id="+t+"]",Tags:".js-post-tags-field",Mentions:".js-post-mentions-field",EditComment:".js-post-edit-comment-field",Excerpt:".js-post-excerpt-field",Email:".js-post-email-field",ArticleType:".js-article-type-field"};return s[n]?e.find(s[n]):$()}function u(e,t,n){var a=c(e,t,n);return n===s||n===i?e.find(".js-tag-editor").filter((function(){return $(this).data("target-field")===a.get(0)})):a}var d=[];function g(i,l,c,u){var d=i.find('input[type="submit"]:visible, button[type="submit"]:visible'),g=d.length&&d.is(":enabled");g&&d.prop("disabled",!0),function(n,s,i){h(n,s,i,t,(function(t,n,s){var i=t.val(),a=$.trim(i).length,r=t.data("min-length"),o=t.data("max-length");0!==a||e?r&&a<r?n(__tr(["Title must be at least $minLength$ character.","Title must be at least $minLength$ characters."], {minLength: r}, "en", ["minLength"])):o&&a>o?n(__tr(["Title cannot be longer than $maxLength$ character.","Title cannot be longer than $maxLength$ characters."], {maxLength: o}, "en", ["maxLength"])):s({type:"POST",url:"/posts/validate-title",data:{title:i,fkey:StackExchange.options.user.fkey}}):n()}))}(i,l,c),function(t,s,i,a){h(t,s,i,n,(function(t,n,i){var r=t.val(),o=$.trim(r).length,l=t.data("min-length");0!==o||e?5!==s?1!==s&&2!==s||i({type:"POST",url:"/posts/validate-body",data:{body:r,oldBody:t.prop("defaultValue"),isQuestion:1===s,isSuggestedEdit:a,fkey:StackExchange.options.user.fkey}}):l&&o<l?n(__tr(["Wiki Body must be at least $minLength$ characters. You entered $actual$."], {minLength: l,actual: o}, "en", [])):n():n()}))}(i,l,c,u),function(e,t,n){h(e,t,n,a,(function(s,i,a){var r=s.val(),o=$.trim(r).length,l=s.data("min-length"),c=s.data("max-length");0!==o?l&&o<l?i(__tr(["Your edit summary must be at least $minLength$ character.","Your edit summary must be at least $minLength$ characters."], {minLength: l}, "en", ["minLength"])):c&&o>c?i(__tr(["Your edit summary cannot be longer than $maxLength$ character.","Your edit summary cannot be longer than $maxLength$ characters."], {maxLength: c}, "en", ["maxLength"])):m(e,t,n)||i():i()}))}(i,l,c),function(e,t,n){h(e,t,n,r,(function(e,t,n){var s=e.val(),i=$.trim(s).length,a=e.data("min-length"),r=e.data("max-length");0!==i?a&&i<a?t(__tr(["Wiki Excerpt must be at least $minLength$ characters; you entered $actual$."], {minLength: a,actual: i}, "en", [])):r&&i>r?t(__tr(["Wiki Excerpt cannot be longer than $maxLength$ characters; you entered $actual$."], {maxLength: r,actual: i}, "en", [])):t():t()}))}(i,l,c),function(e,t,n){h(e,t,n,o,(function(e,t,n){var s=e.val(),i=$.trim(s);0!==i.length?StackExchange.helpers.isEmailAddress(i)?t():t(__tr(["This email does not appear to be valid."], undefined, "en", [])):t()}))}(i,l,c),x(i,l,(function(){!function(t,n,i){h(t,n,i,s,(function(t,n,s,i){var a=t.val();0!==$.trim(a).length||e?s({type:"POST",url:"/posts/validate-tags",data:{tags:a,oldTags:t.prop("defaultValue"),fkey:StackExchange.options.user.fkey,postTypeId:i},success:function(e){var n=t.closest(".js-post-form").find(".js-warned-tags-field");if(n.length){var s=n.val(),i=n.data("warned-tags")||[],a=((e.source||{}).Tags||[]).filter((function(e){return e&&-1===i.indexOf(e)}));a.length>0&&StackExchange.using("gps",(function(){a.forEach((function(e){StackExchange.gps.track("tag_warning.show",{tag:e},!0),s+=" "+e,i.push(e)})),n.val($.trim(s)).data("warned-tags",i),StackExchange.gps.sendPending()}))}}}):n()}))}(i,l,c),g&&d.prop("disabled",!1)}))}function f(e,t){e.find('input[type="submit"]:visible, button[type="submit"]').removeClass("is-loading"),t||StackExchange.helpers.enableSubmitButton(e)}function b(e,t,n,s,i){$.ajax({type:"POST",dataType:"json",data:e.serialize(),url:e.attr("action"),success:i,error:function(){var s=v(n,0);y(e,t,n,{General:[$("<span/>").text(s).html()]},0)},complete:function(){f(e,s)}})}function p(){for(var e=0;e<d.length;e++)clearTimeout(d[e]);d=[]}function h(t,n,s,i,a){c(t,n,i).blur((function(){var r=this,o=$(this),l=function(e){A(t,n,s,i,e)},c=function(e){return E(e,t,n,s,[i])};d.push(setTimeout((function(){var t=StackExchange.stacksValidation.handlerFor(o);t&&!e&&t.clear(),a.call(r,o,l,c,n)}),250))}))}function m(e,t,n){return"[Edit removed during grace period]"===$.trim(c(e,t,a).val())&&(A(e,t,n,a,__tr(["Comment reserved for system use. Please use an appropriate comment."], undefined, "en", [])),!0)}function v(e,t){if(t>0)switch(e){case"question":return __tr(["Your question couldn't be submitted. Please see the error above.","Your question couldn't be submitted. Please see the errors above."], {specificErrorCount: t}, "en", ["specificErrorCount"]);case"answer":return __tr(["Your answer couldn't be submitted. Please see the error above.","Your answer couldn't be submitted. Please see the errors above."], {specificErrorCount: t}, "en", ["specificErrorCount"]);case"edit":return __tr(["Your edit couldn't be submitted. Please see the error above.","Your edit couldn't be submitted. Please see the errors above."], {specificErrorCount: t}, "en", ["specificErrorCount"]);case"tags":return __tr(["Your tags couldn't be submitted. Please see the error above.","Your tags couldn't be submitted. Please see the errors above."], {specificErrorCount: t}, "en", ["specificErrorCount"]);case"article":return __tr(["Your article couldn't be submitted. Please see the errors above.","Your article couldn't be submitted. Please see the errors above."], {specificErrorCount: t}, "en", ["specificErrorCount"]);default:return __tr(["Your post couldn't be submitted. Please see the error above.","Your post couldn't be submitted. Please see the errors above."], {specificErrorCount: t}, "en", ["specificErrorCount"])}else switch(e){case"question":return __tr(["An error occurred submitting the question."], undefined, "en", []);case"answer":return __tr(["An error occurred submitting the answer."], undefined, "en", []);case"edit":return __tr(["An error occurred submitting the edit."], undefined, "en", []);case"tags":return __tr(["An error occurred submitting the tags."], undefined, "en", []);case"article":return __tr(["An error occurred submitting the article."], undefined, "en", []);default:return __tr(["An error occurred submitting the post."], undefined, "en", [])}}function y(e,t,n,s,i){var a=e.find(".js-general-error").text("").removeClass("d-none");S(e,a,s,null,l,t,n)||(i>0?a.text(v(n,i)):a.addClass("d-none"))}function P(e){var t=$(".js-post-review-summary").closest(".js-post-review-summary-container");if(t.length>0)t.filter(":visible").scrollIntoView();else{var n,s;T()&&($("#sidebar").animate({opacity:.4},500),n=setInterval((function(){T()||($("#sidebar").animate({opacity:1},500),clearInterval(n))}),500)),e.find(".validation-error, .js-stacks-validation.has-error").each((function(){var e=$(this).offset().top;(!s||e<s)&&(s=e)}));var i=function(){for(var t=0;t<3;t++)e.find(".message").animate({left:"+=5px"},100).animate({left:"-=5px"},100)};if(s){var a=$(".review-bar").length;s=Math.max(0,s-(a?125:30)),$("html, body").animate({scrollTop:s},i)}else i()}}function w(e,l,c,u,d){u&&x(e,l,(function(){var g=k(e,l,c,[t,n,s,i,a,r,o,"ArticleType"],u,d).length;y(e,l,c,u,g),P(e)}))}function x(e,t,n){var i=function(){1!==t||u(e,t,s).length?n():setTimeout(i,250)};i()}function E(e,t,n,s,i,a){return $.ajax(e).then((function(e){return a?$.when(a()).then((function(){return e})):e})).done((function(e){k(t,n,s,i,e.errors,e.warnings)})).fail((function(){k(t,n,s,i,{},{})}))}function k(e,t,n,s,i,a){for(var r=[],o=0;o<s.length;o++){var l=s[o];S(e,u(e,t,l),i,a,l,t,n)&&r.push(l)}return r}function A(e,t,n,s,i){z(e,u(e,t,s),i?[$("<span/>").text(i).html()]:[],[],s,t,n)}function S(e,t,n,s,i,a,r){return z(e,t,n[i]||[],(s||{})[i]||[],i,a,r)}function z(t,n,s,i,a,r,o){var c=StackExchange.stacksValidation.handlerFor(n);return c?function(t,n,s,i,a){t.clear("error"),i.forEach((function(e){t.add("error",e)})),"edit"===s||"question"===s&&e||(t.clear("warning"),a.forEach((function(e){t.add("warning",e)})))}(c,0,o,s,i):function(e,t,n){e&&e.length&&(0===n.length||1===n.length&&""===n[0]||!$("html").has(e).length?function(e){var t=e.data("error-popup");t&&t.is(":visible")&&t.fadeOutAndRemove(),e.removeClass("validation-error"),e.removeData("error-popup"),e.removeData("error-message")}(e):function(e,t,n){var s=1===t.length?t[0]:"<ul><li>"+t.join("</li><li>")+"</li></ul>",i=e.data("error-popup");if(i&&i.is(":visible")){if(e.data("error-message")===s)return void(i.animateOffsetTop&&i.animateOffsetTop(0));i.fadeOutAndRemove()}var a=StackExchange.helpers.showMessage(e,s,n);a.find("a").attr("target","_blank"),a.click(p),e.addClass("validation-error").data("error-popup",a).data("error-message",s)}(e,n,function(e,t){var n=$("#sidebar, .sidebar").first().width()||270,s="lg"===StackExchange.responsive.currentRange();return e===l?{position:"inline",css:{display:"inline-block","margin-bottom":"10px"},closeOthers:!1,dismissable:!1,type:t}:{position:{my:s?"left top":"top center",at:s?"right center":"bottom center"},css:{"max-width":n,"min-width":n},closeOthers:!1,type:t}}(t,"error")))}(n,a,s),t.find(".validation-error, .js-stacks-validation.has-error").length||t.find(".js-general-error").text(""),n.trigger("post:validated-field",[{errors:s,warnings:i,field:a,postTypeId:r,formType:o}]),s.length>0}function T(){var e=!1,t=$("#sidebar, .sidebar").first();if(!t.length)return!1;var n=t.offset().left;return $(".message").each((function(){var t=$(this);if(t.offset().left+t.outerWidth()>n)return e=!0,!1})),e}return{initOnBlur:g,initOnBlurAndSubmit:function(e,t,n,i,a){var r;g(e,t,n,i);var o=function(s){if(e.trigger("post:submit-completed",[{formType:n,postTypeId:t,response:s}]),s.success)if(a)a(s);else{var i=window.location.href.split("#")[0],l=s.redirectTo.split("#")[0];0===l.indexOf("/")&&(l=window.location.protocol+"//"+window.location.hostname+l),window.onbeforeunload=null,r=!0,window.location=s.redirectTo,i.toLowerCase()===l.toLowerCase()&&window.location.reload(!0)}else s.captchaHtml?StackExchange.nocaptcha.init(s.captchaHtml,o):s.errors?(e.find(".js-post-prior-attempt-count").val((function(e,t){return(+t+1||0).toString()})),w(e,t,n,s.errors,s.warnings)):y(e,t,n,{General:[$("<span/>").text(s.message).html()]},0)};e.submit((function(){if(e.find(".js-post-answer-while-asking-checkbox").is(":checked"))return!0;if(m(e,t,n))return StackExchange.helpers.enableSubmitButton(e),!1;if(p(),StackExchange.navPrevention&&StackExchange.navPrevention.stop(),e.find('input[type="submit"]:visible, button[type="submit"]').addClass("is-loading"),StackExchange.helpers.disableSubmitButton(e),StackExchange.options.site.enableNewTagCreationWarning){var i=c(e,t,s),a=i.prop("defaultValue");if(i.val()!==a)return $.ajax({type:"GET",url:"/posts/new-tags-warning",dataType:"json",data:{tags:i.val()},success:function(i){if(i.showWarning){var a={closeOthers:!0,shown:function(){$(".js-confirm-tag-creation").on("click",(function(s){return StackExchange.helpers.closePopups(),b(e,t,n,r,o),s.preventDefault(),!1}))},dismissing:function(){f(e,r)},returnElements:u(e,t,s).find("input:visible")};StackExchange.helpers.showModal($(i.html).elementNodesOnly(),a),StackExchange.helpers.bindMovablePopups()}else b(e,t,n,r,o)}}),!1}return setTimeout((function(){b(e,t,n,r,o)}),0),!1}))},showErrorsAfterSubmission:w,validatePostFields:function(e,i,a,r,o){if(1===i)return E({type:"POST",url:"/posts/validate-question",data:{title:c(e,i,t).val(),body:c(e,i,n).val(),tags:c(e,i,s).val(),fkey:StackExchange.options.user.fkey}},e,i,a,[t,n,s],o).promise();if(2===i)return E({type:"POST",url:"/posts/validate-body",data:{body:c(e,i,n).val(),oldBody:c(e,i,n).prop("defaultValue"),isQuestion:!1,isSuggestedEdit:r||!1,fkey:StackExchange.options.user.fkey}},e,i,a,[n],o).promise();var l=$.Deferred();return l.reject(),l.promise()},scrollToErrors:P}}()})();